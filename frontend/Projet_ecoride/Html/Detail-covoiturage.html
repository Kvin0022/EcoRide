<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Détail du covoiturage – EcoRide</title>

  <link rel="stylesheet" href="../Css/styles-detail-covoiturage.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
</head>
<body>

  <!-- NAVBAR -->
  <header>
    <nav class="navbar">
      <img src="../assets/Logo-EcoRide.png" alt="EcoRide Logo" class="logo-img">
      <img src="../assets/menu-btn.png" alt="Menu hamburger" class="menu-hamburger">
      <div class="nav-links">
        <ul>
          <li><a href="../Html/index.html">Accueil</a></li>
          <li><a href="../Html/Profil-utilisateur.html">Profil</a></li>
          <li><a href="../Html/Profil-utilisateur.html">Historique</a></li>
          <li class="active"><a href="../Html/Recherche-covoiturage.html">Covoiturages</a></li>
          <li><a href="#">Contact</a></li>
          <li><a href="../Html/Connexion.html">Se déconnecter</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- CONTENU PRINCIPAL -->
  <main class="detail-covoiturage">

    <!-- En-tête dynamique -->
    <section id="ride-detail" class="ride-detail">
      <h1>Détail du covoiturage</h1>
      <h2 id="rd-route">—</h2>
    </section>

    <!-- Le trajet (2 colonnes : départ/arrivée) -->
    <section class="trajet bloc">
      <h2>Le trajet</h2>
      <div class="trajet-grid">
        <div class="trajet-col depart">
          <h3>Départ</h3>
          <p class="trajet-ville" id="rd-depart-city">—</p>
          <p class="trajet-date"  id="rd-depart-datetime">—</p>
        </div>
        <div class="trajet-col arrivee">
          <h3>Arrivée</h3>
          <p class="trajet-ville" id="rd-arrivee-city">—</p>
        </div>
      </div>
    </section>

    <!-- Chauffeur (dynamique) -->
    <section class="chauffeur bloc">
      <h2>Chauffeur</h2>

      <div class="chauffeur-info driver">
        <div class="avatar">
          <img id="rd-driver-avatar" src="../assets/avatar-default.webp" alt="Photo du conducteur">
        </div>

        <div class="chauffeur-meta details">
          <h3 class="chauffeur-nom" id="driver-name">Conducteur</h3>
          <div class="chauffeur-notes" id="driver-rating">—</div>
          <p class="chauffeur-note-texte" id="driver-note"></p>
          <button class="btn-avis">Voir Avis</button>
        </div>

        <div class="chauffeur-preferences">
          <h4>Ses préférences</h4>
          <ul>
            <li>Possibilité de grignoter</li>
            <li>Véhicule non fumeur</li>
            <li>Voyage dans la bonne humeur</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Véhicule (dynamique) -->
    <section class="vehicule bloc">
      <h2>Véhicule</h2>
      <div class="vehicule-info">
        <div class="vehicule-texte">
          <h3 id="vehicule-title">—</h3>
          <p id="vehicule-eco" class="vehicule-eco"></p>
        </div>
        <div class="vehicule-photo vehicle-photo">
          <img id="vehicule-photo" src="../assets/vehicule-placeholder.jpg" alt="Véhicule">
        </div>
      </div>
    </section>

    <!-- Places disponibles (dynamique) -->
    <section class="places bloc seats-cta">
      <h2>Places disponibles</h2>
      <div class="places-info row">
        <div class="places-gauche">
          <h3>Nombre de places disponibles</h3>
          <p id="places-texte" class="places-texte">—</p>
        </div>
        <div class="places-droite badge">
          <p id="places-cout" class="places-cout">—</p>
        </div>
      </div>
      <button id="btn-participer" class="btn-participer">Participer</button>
    </section>

    <!-- MODALE Réservation -->
    <div id="modal-overlay" class="modal-overlay" style="display:none">
      <div class="modal">
        <button class="modal-close" aria-label="Fermer">&times;</button>
        <h2>Réserver ce covoiturage</h2>

        <div class="modal-trajet">
          <div>
            <h3>Départ</h3>
            <p id="modal-departure">—</p>
          </div>
          <div>
            <h3>Arrivée</h3>
            <p id="modal-arrival">—</p>
          </div>
          <div class="modal-meta">
            <p id="modal-datetime">—</p>
            <p id="modal-credits">—</p>
          </div>
        </div>

        <form id="book-form" class="book-form">
          <div class="form-row">
            <label for="book_name">Votre nom</label>
            <input type="text" id="book_name" required placeholder="Ex : Kevin">
          </div>
          <div class="form-row">
            <label for="book_email">Votre email</label>
            <input type="email" id="book_email" required placeholder="vous@mail.com">
          </div>

          <p id="book-status" class="status" aria-live="polite"></p>

          <div class="modal-actions">
            <button type="button" id="btn-cancel" class="btn-cancel">Annuler</button>
            <button type="submit" id="btn-book-submit" class="btn-confirm">Confirmer la réservation</button>
          </div>
        </form>
      </div>
    </div>

    <!-- MODALE AVIS -->
    <div id="reviews-overlay" class="modal-overlay" style="display:none">
      <div class="modal">
        <button class="modal-close" aria-label="Fermer">&times;</button>
        <h2 id="reviews-title">Avis du conducteur</h2>
        <div class="review-list">
          <div class="review">
            <p class="reviewer"><strong>Jean Dupont</strong> — 10/05/2025</p>
            <div class="rating">★ ★ ★ ★ ☆</div>
            <p>Chauffeur ponctuel et sympathique.</p>
          </div>
        </div>
        <div class="modal-actions">
          <button id="btn-reviews-close" class="btn-cancel">Fermer</button>
        </div>
      </div>
    </div>

    <!-- Toast + Loader -->
    <div id="toast" class="toast" role="status" aria-live="polite"></div>
    <div id="loader" class="loader hidden" aria-hidden="true">
      <div class="spinner" role="status" aria-label="Chargement"></div>
    </div>

  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="social-icons">
      <a href="#"><img src="../assets/X.png" alt="X"></a>
      <a href="#"><img src="../assets/Instagram.jpg" alt="Instagram"></a>
      <a href="#"><img src="../assets/facebook.png" alt="Facebook"></a>
      <a href="#"><img src="../assets/Twitch.png" alt="Twitch"></a>
    </div>
    <p class="footer-copy">Tous droits réservés © EcoRide 2025</p>
    <p class="footer-email">Ecoride@mail.com</p>
    <nav class="footer-nav">
      <a href="#">Mentions légales</a>
      <a href="#">Politique de confidentialité</a>
      <a href="#">CGU</a>
    </nav>
  </footer>

  <script src="./config.js"></script>
  <script src="../Js/Detail-covoiturage.js"></script>
</body>
</html>
